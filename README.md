# CAN Sniffer

[![Translate](https://img.shields.io/badge/Translate_to-ENGLISH-blue.svg?style=plastic)](https://github-com.translate.goog/KruFFT/CAN-Sniffer?_x_tr_sl=ru&_x_tr_tl=en)

Код для **AVR (Arduino)** и **ESP8266** с использованием **PlatformIO**.

[Статья о проекте](https://habr.com/ru/post/479672)

[Приложение-компаньон для компьютера](https://github.com/KruFFT/wxCAN-Sniffer)

### Возможности
- Изменение скорости подключения к CAN-шине во время работы
- Передача данных на компьютер через последовательный порт или Wi-Fi
- Встроенный симулятор пакетов для отладки (умеет отвечать на запросы)

### Описание
Используется **VSCode** + **PlatformIO** - более гибкая, удобная и современная среда разработки по сравнению с **Arduino IDE**.

Настройки платформ, используемых библиотек и параметры компиляции находятся в файле ```platformio.ini```. Формат простой и понятный.

Для AVR работает передача через последовательный порт. Для ESP работает передача данных через последовательный порт и Wi-Fi.

В ESP8266 крайне медленно работает передача данных через Wi-Fi малыми порция. Поэтому данные собираются по несколько пакетов и только после этого отправляются в сеть.

Схемы подключения находятся в папке ```./images```. На практике проверялись варианты подключения AVR и ESP с микросхемой сдвига уровней сигналов 5В ↔ 3,3В.

PS: Но если, всё же, необходим исходник для Arduino IDE, то INO-файл находится в папке ```./ino```.

### Проверялась работа
- Arduino UNO
- Arduino Nano
- ESP-12F (D1 mini)
- ESP8266 (совместимый с NodeMCU 1.0)
